---
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import { getAssetPath, getCssPath, getJsPath, getImagePath } from '../utils/assetPath';

export interface Props {
  title: string;
  description?: string;
  keywords?: string;
  canonical?: string;
}

const { title= "Diseño Web Chile, Diseño páginas web Chile, Páginas Web Chile", description = "Diseño de páginas web en Chile para empresas de todos los tamaños. Más de 13 años de experiencia creando sitios web optimizados con SEO para atraer más clientes y potenciar tus servicios o productos", keywords, canonical } = Astro.props;

// Base URL for assets
const baseUrl = import.meta.env.BASE_URL || '';
---

<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content={description}>
  {keywords && <meta name="keywords" content={keywords}>}
  
  <!-- Canonical URL for SEO -->
  {canonical && <link rel="canonical" href={canonical} />}

  <!-- Title & Favicon -->
  <title>{title}</title>
  <link rel="icon" type="image/x-icon" href={getAssetPath('/favicon.ico')}>
  <link rel="shortcut icon" href={getAssetPath('/favicon.ico')} type="image/x-icon">
  <link rel="apple-touch-icon" href={getAssetPath('/favicon.ico')}>

  <!-- Stylesheet -->
  <link rel="stylesheet" href={getCssPath('animate.css')}>
  <!-- Tabler Icons -->
  <link rel="stylesheet" href="/assets/css/tabler-icons.min.css">
  <link rel="stylesheet" href={getCssPath('bootstrap.min.css')}>
  <link rel="stylesheet" href={getCssPath('swiper-bundle.min.css')}>
  <link rel="stylesheet" href={getCssPath('hero-colors.css')}>
  <link rel="stylesheet" href={getCssPath('style.css')}>
  <link rel="stylesheet" href={getCssPath('custom-colors.css')}>
</head>

<body>
  <!-- Preloader -->
  <div class="preloader" id="preloader">
    <div class="spinner-grow" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
  </div>

  <!-- Header -->
  <Header />

  <!-- Main Content -->
  <main>
    <slot />
  </main>

  <!-- Footer -->
  <Footer />

  <!-- Scripts -->
  <script src={getJsPath('bootstrap.bundle.min.js')} is:inline></script>
  <script src={getJsPath('swiper-bundle.min.js')} is:inline></script>
  <script src={getJsPath('wow.min.js')} is:inline></script>
  <script src={getJsPath('active.js')} is:inline></script>
  
  <script>
    // Preloader
    window.addEventListener('load', function() {
      const preloader = document.getElementById('preloader');
      if (preloader) {
        preloader.style.display = 'none';
      }
    });
  </script>
  
  <!-- Jivosite Chat Widget -->
  <script src="//code.jivosite.com/widget/PgpmFYkQWG" async></script>
</body>
</html> 